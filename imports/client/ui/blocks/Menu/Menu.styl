@import '{}/imports/client/ui/colors.styl'
@import '{}/imports/client/ui/config'
@import '{}/imports/client/ui/responsive'

.cw--Menu
  display flex
  width 100%
  max-width 1500px
  height auto
  margin 0 auto 15px
  flex-direction row
  flex-shrink 0
  justify-content center
  align-items flex-end
  order 6
  // flex-wrap wrap
  +media(null, $cw--size_l)
    padding-bottom 70px

  &__group
    display flex
    margin 5px 10px
    max-width 100%
    flex-direction row
    flex-shrink 1
    flex-basis auto
    +media(null, $cw--size_xl)
      flex-wrap wrap
      justify-content center


  &__item
    display block
    position relative
    box-sizing border-box
    flex-grow 0
    width 110px
    margin 2px 5px
    border 0
    outline 0
    transition border .1s, filter .1s, outline .1s

    &:hover,
    &_selected
      outline 3px solid $cw--color_metal
      & > .cw--Menu__itemIcon
        filter grayscale(0)

    &_has > .cw--Menu__itemIcon
      filter grayscale(0)

    &:after
      content ""
      position absolute
      bottom 0
      left 0
      width 100%
      height 5px

    &_notEnoughResources:after,
    &_canBuild:after,
    &_canUpgrade:after
      border-top 2px solid alpha($cw--color_black, .7)

    &_notEnoughResources:after
      background-color $cw--color_human

    &_canBuild:after,
    &_canUpgrade:after
      background-color $cw--color_credit


    
  &__itemIcon
    display block
    width 100%
    height auto
    filter grayscale(1)

  &__itemStatus
    position absolute
    top 3px
    right 5px
    width 26px
    height 26px
    background-size 100%
    background-repeat no-repeat

    &_canBuild
      background-image url(/img/game/status_canAdd.svg)

    &_canUpgrade
      background-image url(/img/game/status_canUpgrade.svg)

    &_noTechnologies
      background-image url(/img/game/status_noTechlogies.svg)
      opacity 0.8

    &_inProgress
      background-image url(/img/game/status_inProgress.svg)

    &_queueBusy
      background-image url(/img/game/status_queueBusy.svg)

  &__time
    position absolute
    bottom 0
    left 0
    z-index 1

    display flex
    justify-content center
    height 22px
    width 100%
    overflow hidden
    padding 2px 5px
    box-sizing border-box

    text-align center
    cw--fontFamily_cond()
    font-size $cw--fontSize_m
    background-color alpha($cw--color_black, .5)
