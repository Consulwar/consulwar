<template name="PaymentHistory">
  <div class="cw--PaymentHistory">
    <div class="cw--PaymentHistory__header">
      {{> Tabs args
        tabs=tabs
        className='cw--PaymentHistory__tabs'
      }}
    </div>
    <table
      class="
        cw--PaymentHistory__table
        cw--PaymentHistory__head
      "
    >
      <tr class="cw--PaymentHistory__tableHead">
        <th
          class="
            cw--PaymentHistory__tableTime
            cw--PaymentHistory__th
          "
        >
          Дата
        </th>
        <th
          class="
            cw--PaymentHistory__tableProfit
            cw--PaymentHistory__th
          "
        >
          {{#if isIncome.get}}
            Получено
          {{else}}
            Потрачено ГГК
          {{/if}}
        </th>
        <th
          class="
            cw--PaymentHistory__tableDescription
            cw--PaymentHistory__th
          "
        >
          Описание
        </th>
      </tr>
    </table>
    <div class="cw--PaymentHistory__data">
      {{#if isEmpty.get}}
        <div class="cw--PaymentHistory__empty">
          Нет ни одной записи о
          {{#if isIncome.get}}
            пополнениях
          {{else}}
            расходах
          {{/if}}
        </div>
      {{else}}
        <table class="cw--PaymentHistory__table">
          {{#each item in history.get}}
            <tr
              class="
                cw--PaymentHistory__row
                {{#if even @index}}
                  cw--PaymentHistory__row_even
                {{else}}
                  cw--PaymentHistory__row_odd
                {{/if}}
              "
            >
              <td class="cw--PaymentHistory__tableTime">
                {{item.date}}
              </td>
              <td class="cw--PaymentHistory__tableProfit">
                {{#if item.credits}}
                  <span class="cw--color_honor">
                    -{{formatNumber item.credits}} ГГК
                  </span>
                {{/if}}
                {{{formatProfit item.profit}}}
              </td>
              <td class="cw--PaymentHistory__tableDescription">
                {{item.goal}}
                {{#if item.goalTimes}}
                  ({{item.goalTimes}})
                {{/if}}
              </td>
            </tr>
          {{/each}}
        </table>
      {{/if}}
    </div>

    <div class="cw--PaymentHistory__footer">
      {{> Paging args
        currentPage = currentPage
        pagesTotal = pagesTotal
        className = 'cw--PaymentHistory__paging'
      }}
    </div>

    {{#if isLoading.get}}
      {{> loading}}
    {{/if}}
  </div>
</template>