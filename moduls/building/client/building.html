<template name="item_building">
	<div class="information {{building.type}}">
		<div class="image">
			<img 
				alt="{{building.name}}" 
				src="
				{{#unless building.notImplemented}}
					/img/game/building/{{building.group}}/{{building.engName}}.jpg
				{{else}}
					/img/game/notimplemented.jpg
				{{/unless}}
				"
			>
			<span class="title">{{building.name}}</span>
			{{#if building.currentLevel}}
				<span class="level" title="{{formatNumber building.currentLevel}}">{{formatNumberWithISO building.currentLevel}} уровень</span>
			{{/if}}
		</div>
		<div class="description">
			{{> item_requirements requirements=building.requirements}}

			<p>{{building.description}}</p>
			
			{{> item_effect item=building}}
		</div>

		{{#if building.progress}}
			{{> item_price price=building.next.price}}
		{{else}}
			{{> item_price price=building.price}}
		{{/if}}

		{{#if eq building.engName 'tradingport'}}
			<button class="market" disabled="{{lt building.currentLevel 1}}">Торговать</button>
		{{/if}}

		{{#if eq building.engName 'spaceport'}}
			<button class="blackmarket" disabled="{{lt building.currentLevel 1}}">Открыть контейнер</button>
		{{/if}}

		{{#if eq building.engName 'colosseum'}}
			<a
				class="tournament {{#if lt building.currentLevel 1}}disabled{{/if}}"
				href="{{pathFor 'building' group='residential' item='colosseum' menu='tournaments'}}"
			>
				Устроить турнир
			</a>
		{{/if}}

		{{#if eq building.engName 'pulsecatcher'}}
			<a
				class="pulsecatcher {{#if lt building.currentLevel 1}}disabled{{/if}}"
				href="{{pathFor 'building' group='residential' item='pulsecatcher' menu='bonus'}}"
			>
				Получить бонус
			</a>
		{{/if}}

		<button class="build" disabled="{{not building.canBuild}}">Отдать приказ</button>
		
		{{> Template.dynamic template=additionalArea}}
	</div>
</template>